
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Added functionality to pavian &#8212; Pavian visualisation docker  documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Docker-compose files" href="docker_compose.html" />
    <link rel="prev" title="Initial set-up" href="initial_setup.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="added-functionality-to-pavian">
<h1>Added functionality to pavian<a class="headerlink" href="#added-functionality-to-pavian" title="Permalink to this headline">¶</a></h1>
<p>In the comparison tab of pavian there is some added functionality that will show up when hovering over a cell in the comparison table.</p>
<p>The added functionality is per taxid and should only be used at the ‘species’ level for the best results.</p>
<div class="section" id="download">
<h2>Download<a class="headerlink" href="#download" title="Permalink to this headline">¶</a></h2>
<p>Download output files for the given taxid/sample combination.
Clicking this button downloads a package of multiple files that are zipped together:</p>
<ul class="simple">
<li>Fasta file with all reads in the sample that map to the taxid (.fasta)</li>
<li>Bam file with all reads in the sample that map to the taxid (.sorted.bam)</li>
<li>Fasta file with references of the taxid to which reads of the sample are mapped (.ref.fa)</li>
<li>Index file of above fasta (.ref.fa.fai)</li>
</ul>
</div>
<div class="section" id="jbrowse">
<h2>Jbrowse<a class="headerlink" href="#jbrowse" title="Permalink to this headline">¶</a></h2>
<p>Visualise alignments of reads for the given taxid/sample combination.
This will open Jbrowse externally to display several tracks.
As of now, there are 5 tracks available:</p>
<ol class="arabic simple">
<li>Alignment</li>
<li>SNPs/Coverage</li>
<li>Reference sequence</li>
<li>Consensus sequence</li>
<li>Coverage</li>
</ol>
<p>1. Alignment.
This shows the alignment between reads and the selected reference.
The alignment track can maximally show 100 reads at any position, so a ‘capped’ bam file is used for this track as input.
The ‘capped’ bam file is created in such a way that it only contains reads so that at no position there is a coverage &gt; 100.
Meanwhile, this subset of reads will still give a good idea of what the alignment looks like across the reference.</p>
<p>2. SNPs/Coverage.
The SNPs/coverage track is based on the alignment track (1.) and you can see here that the coverage is never higher than 100.</p>
<p>3. Reference sequence.
The sequence of the given reference.</p>
<p>4. Consensus sequence.
A consensus sequence based on the reads that are displayed in the alignment track (1.).
This is created by running samtools mpilup with the capped bam file, for each position, the most prevalent nucleotide or indel is then determined.
Considering the insertions and deletions in the consensus sequence, it might not line up perfectly with the reference sequence.</p>
<p>5. Coverage.
A coverage track displaying the actual coverage. It’s based on all reads that are mapped to the given reference and isn’t capped at a coverage of 100.</p>
</div>
<div class="section" id="view-reads-and-blast">
<h2>View reads and blast<a class="headerlink" href="#view-reads-and-blast" title="Permalink to this headline">¶</a></h2>
<p>This will open a datatable externally that contains all reads and their alignment scores.
Every row represents one read, in case there are secondary mapping for the reads their alignment scores are displayed as well together with an ‘error tag’ if applicable.
This ‘error tag’ has been assigned during the classification pipeline with the filter_bam.py script.</p>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">Pavian visualisation docker</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="scripts.html">Script documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="initial_setup.html">Initial set-up</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Added functionality to pavian</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#download">Download</a></li>
<li class="toctree-l2"><a class="reference internal" href="#jbrowse">Jbrowse</a></li>
<li class="toctree-l2"><a class="reference internal" href="#view-reads-and-blast">View reads and blast</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="docker_compose.html">Docker-compose files</a></li>
<li class="toctree-l1"><a class="reference internal" href="docker_services.html">Docker-compose services</a></li>
<li class="toctree-l1"><a class="reference internal" href="nanopore_classification_pipeline.html">Nanopore classification pipeline</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="initial_setup.html" title="previous chapter">Initial set-up</a></li>
      <li>Next: <a href="docker_compose.html" title="next chapter">Docker-compose files</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2020, tgu, aroe.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.8.5</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/custom_pavian_tools.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>